# OpenIPC Wiki 
[内容](../README.zh.md)

开关摄像机 HS-303
--------------

该制造公司生产了三个版本的 Switcam HS-303 IP 摄像机，在硬件上存在显着差异。目前，OpenIPC项目支持无需拆卸所有三个版本相机的固件。

可以在我们项目的开放 [Telegram](https://t.me/openipc_modding) 小组中讨论项目和固件功能（俄语）。

设备之间按颜色的视觉差异：

* HS303 v1 - 有黑白颜色
* HS303 v2 - 黑色
* HS303 v3 - 具有白色和更垂直拉长的形状

**为您的相机选择正确的固件类型！**



## 刷机前准备及操作

为了在Windows中舒适地使用OpenIPC相机，您需要安装以下程序：

* [Putty](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html) 用于 ssh 访问（telnet 的最佳替代品）
* [WinSCP](https://winscp.net/eng/docs/lang:ru) 用于通过 scp 协议访问文件系统
* [Notepad++](https://notepad-plus-plus.org/) 作为 Linux 相机上的文件编辑器

要通过 SSH 登录，您必须使用用户名 root，无密码



## HS303 v1/v2/v3

### 2024年8月8日安装OpenIPC的简要说明

- 将SD/MMC卡连接到PC，删除所有文件和分区，创建一个新分区
- 卡可以是任何大小，最多 64GB（含），但第一个分区不得超过 2GB
- 将 SD/MMC 卡格式化为 FAT（限制 2GB）
- 保留地图上的其余空间未分配且未格式化
- 解压存档并将 OpenIPC_PayWall 文件夹的内容放入 SD/MMC 卡的根目录中
- 将存储卡插入插槽并通过清晰的动作给相机通电
- 通电时不要让触点弹跳，这可能会导致问题
- 1 分钟后（引导加载程序将更新），重置电源几秒钟
- 大约 3 分钟后，相机将闪烁并准备好进行 WiFi 设置
- 重置电源几秒钟并取出 SD 卡（它应该是空的）
- 使用您的 WiFi 网络设置将相机对准 [QR 码](https://openipc.org/tools/qr-code-generator?locale=ru) 并选择读取位置
- 发出声音提示设备准备就绪后，相机将自动重启
- 相机可供使用

要恢复设置，只需将保存的目录和文件写入SD卡的根目录，然后将其插入关闭的相机并打开电源即可。

如果您正在刷写一系列相机，请注意，在完全初始化后，刷写设备会自动删除更新文件，这样如果用户忘记将SD卡放在相机中，刷写过程就不会循环。因此，在刷新每个新相机实例之前必须恢复已删除的文件。

使用SD卡录像时（刷写后），逻辑分区可增加至32GB。


### 最紧迫的问题和答案

#### 在哪里可以获取 Rostelecom Switcam HS303 v1/v2/v3 设备的固件？

固件和基本技术支持的现成文件可通过 PayWall 服务在电报组中获取[此处](https://paywall.pw/openipc)。

可以在[此处](https://github.com/OpenIPC/wiki/blob/master/ru/hardware-hs303.md)找到有关刷新设备的分步说明以及常见问题的几个答案。

该项目的源代码，供那些厌恶PayWall或想要完全[独立](https://github.com/OpenIPC)组装固件的人使用。

您选择行动的权利受到充分尊重。祝您的技术创造力好运！

#### 如何找出固件相机的IP地址以及如何登录？

如果在配置文件中输入了用于设置 WiFi 接口的正确数据（SSID 和密钥），则您可以在标记为"OpenIPC"的已连接设备列表中找到路由器上摄像机的 IP 地址。摄像机控制界面可在标准端口 (80) 上的浏览​​器中使用，并且可以在端口 22 上使用 root 登录（在第一次连接时使用密码 12345）通过 SSH 进行访问。


#### 相机闪了但是没有WiFi连接怎么办？

检查 WiFi 路由器上的设置，将任意通道设置为硬，例如 5（不是自动），将带宽更改为 20MHz，并将操作模式设置为仅 B/G。


#### 如何通过 SSH 将固件更新到最新版本？

$\color{红色}{\texttt{注意！仅适用于 2024 年 8 月起的固件！}}$

通过Putty程序通过SSH方式登录摄像机（首次连接时登录root，密码12345或WEB中设置的密码，端口22），执行命令：

```
sysupgrade -k -r
```

如果互联网可用，相机将自动连接到 GitHub，下载并安装最新更新。


#### 如何通过 WEB 将固件更新到当前最新版本？

通过浏览器访问摄像机，指定摄像机的 IP 地址和连接端口 80，例如：

```
http://192.168.1.10
```

输入默认登录名和密码（登录root，密码12345）。登录相机后，设置新密码（不要忘记写下来！）。在"固件"部分中，按照提示中指示的步骤进行操作。

#### 如何在 ipeye.ru 服务上注册此类摄像机？

在您的IPeye个人帐户（必须通过浏览器登录）中，通过ID添加摄像机，其中MAC使用小写（小写字母）。 MAC 写在 85 端口 WEB 界面的标题页上。

在此之前，您需要在WEB界面的Majestic选项卡中启用对IPeye协议的支持，或者在配置文件"/etc/majestic.yaml"中将"ipeye.enabled"状态设置为"true"，并重新启动相机。

#### 如果您忘记了密码，如何重置密码，同时保留所有其他设置？

使用 Notepad++ 编辑器在 SD 卡上创建或编辑 autoconfig.sh 文件，使其内容如下所示：

```
#!/bin/sh
cp /rom/etc/shadow /etc/shadow
```
关闭相机电源，插入SD卡，打开电源，等待两次点击红外滤镜准备就绪，然后您可以尝试使用默认密码登录。

